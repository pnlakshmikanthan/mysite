{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}

{% if user.is_authenticated %}

<div class="row">
    <div class="col-3">
        <div class="card" id="test-card">
            <div class="card-header">
                Select the Test
            </div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item">
                    {% for test in tests %}
                    <label class="checkbox test">
                        <input type="checkbox" value="{{test.test_name}}">&nbsp{{test.test_name}}
                    </label>
                    {% endfor %}
                </li>
            </ul>
        </div>
    </div>
    <div class="col-9">
            <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        {% for test in tests1 %}
                        <label class="checkbox test">
                            <input type="checkbox" value="{{test.test_name}}">&nbsp{{test.test_name}}
                        </label>
                        {% endfor %}
                    </li>
                </ul>
        <table id="example" class="table-color" style="width:80%">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Position</th>
                    <th>Office</th>
                    <th>Age</th>
                    <th>Start date</th>
                    <th>Salary</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Michelle House</td>
                    <td>Integration Specialist</td>
                    <td>Sidney</td>
                    <td>37</td>
                    <td>2011/06/02</td>
                    <td>$95,400</td>
                </tr>
                <tr>
                    <td>Vivian Harrell</td>
                    <td>Financial Controller</td>
                    <td>San Francisco</td>
                    <td>62</td>
                    <td>2009/02/14</td>
                    <td>$452,500</td>
                </tr>
                <tr>
                    <td>Timothy Mooney</td>
                    <td>Office Manager</td>
                    <td>London</td>
                    <td>37</td>
                    <td>2008/12/11</td>
                    <td>$136,200</td>
                </tr>
                <tr>
                    <td>Jackson Bradshaw</td>
                    <td>Director</td>
                    <td>New York</td>
                    <td>65</td>
                    <td>2008/09/26</td>
                    <td>$645,750</td>
                </tr>
                <tr>
                    <td>Jonas Alexander</td>
                    <td>Developer</td>
                    <td>San Francisco</td>
                    <td>30</td>
                    <td>2010/07/14</td>
                    <td>$86,500</td>
                </tr>
                <tr>
                    <td>Shad Decker</td>
                    <td>Regional Director</td>
                    <td>Edinburgh</td>
                    <td>51</td>
                    <td>2008/11/13</td>
                    <td>$183,000</td>
                </tr>
                <tr>
                    <td>Michael Bruce</td>
                    <td>Javascript Developer</td>
                    <td>Singapore</td>
                    <td>29</td>
                    <td>2011/06/27</td>
                    <td>$183,000</td>
                </tr>
                <tr>
                    <td>Donna Snider</td>
                    <td>Customer Support</td>
                    <td>New York</td>
                    <td>27</td>
                    <td>2011/01/25</td>
                    <td>$112,000</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <th>Name</th>
                    <th>Position</th>
                    <th>Office</th>
                    <th>Age</th>
                    <th>Start date</th>
                    <th>Salary</th>
                </tr>
            </tfoot>
        </table>
   </div>
</div>
{% else %}
<h1 class="mt-3 text-center text-white">
    Welcome to user please login.....
</h1>

{% endif %}
<script>
     $(document).ready(function () {
        $('.test input[type="checkbox"]').on("click", function () {
            if ($(this).prop("checked") == true) {
                alert($(this).val());

                $.ajax({
                    type: "POST",
                    headers: {
                        'X-CSRFToken': '{{ csrf_token }}'
                    },
                    url: '/',
                    data: {
                        'test': $(this).val(),

                    },
                    success: function () {
                        alert("Test added");
                    }
                });

            }



        });

    });
</script>
<script>
    $('#example').DataTable( {
        
        dom: 'Bfrtip',
        buttons: [

            'print'
            
        ]
    } );
</script>

{% endblock %}